<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Apti Oyunu</title>
<style>
body { margin:0; font-family:sans-serif; background:#000; color:#fff; }
#game-container { position:relative; width:900px; height:600px; margin:20px auto; border:2px solid #fff; overflow:hidden; background:#000; }
#screen-img, #result-img { position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover; }
#question-container { position:absolute; top:50px; left:20px; width:400px; }
#question-container.right { left:auto; right:20px; text-align:right; }
button { display:block; width:250px; margin:10px 0; padding:10px; font-size:18px; cursor:pointer; }
#next-btn, #retry-btn, #restart-btn { display:none; margin-top:20px; }
#end-screen { display:none; position:absolute; top:0; left:0; width:100%; height:100%; background:#000; color:#fff; text-align:center; padding-top:200px; font-size:32px; }
</style>
</head>
<body>

<audio id="bg-music" src="baÅŸlangÄ±Ã§mÃ¼zik.mp3" autoplay></audio>
<audio id="wrong-sound" src="yanlÄ±ÅŸ.mp3"></audio>

<div id="game-container">
    <img id="screen-img" src="baÅŸlangÄ±Ã§.png" alt="">
    
    <div id="question-container" style="display:none;">
        <p id="question-text"></p>
        <button id="option1"></button>
        <button id="option2"></button>
        <button id="next-btn">Sonraki Soruyu GÃ¶ster</button>
        <button id="retry-btn">Tekrar Deneyin</button>
    </div>

    <img id="result-img" src="" alt="" style="display:none;">
    <button id="start-btn" style="position:absolute; top:500px; left:50%; transform:translateX(-50%); font-size:24px; padding:10px 20px;">Oyna</button>
    <div id="end-screen"></div>
</div>

<script>
const questions = [
    { text:"Aptiâ€™nin memuru â€œÅžÅŸÅŸt, iÅŸini iyi yapmÄ±yorsun!â€ diyor. Ne demeli?",
      options:[ {text:"Ã–zÃ¼r dilerim efendim", correct:true, resultImg:"doÄŸru1.png"}, {text:"Efendim ama yaptÄ±m", correct:false, resultImg:"yanlÄ±ÅŸ1.png"} ] },
    { text:"â€œBir daha ki sefer gene bÃ¶yle olursa maaÅŸÄ±ndan dÃ¼ÅŸerimâ€ diyor. Apti ne demeli?",
      options:[ {text:"Tamam efendim", correct:true, resultImg:"doÄŸru2.png"}, {text:"Efendim ama Ã§ok abarttÄ±nÄ±z", correct:false, resultImg:"yanlÄ±ÅŸ2.png"} ] },
    { text:"â€œGitâ€ diyor. Apti ne demeli?",
      options:[ {text:"Efendim ama meÅŸgulum", correct:true, resultImg:"doÄŸru3.png"}, {text:"Ben yapmayacaÄŸÄ±m, baÅŸkasÄ± yapsÄ±n", correct:false, resultImg:"yanlÄ±ÅŸ3.png"} ] }
];

let current=0;
let wrongSelected=false;

const screenImg=document.getElementById("screen-img");
const startBtn=document.getElementById("start-btn");
const questionContainer=document.getElementById("question-container");
const questionText=document.getElementById("question-text");
const option1=document.getElementById("option1");
const option2=document.getElementById("option2");
const nextBtn=document.getElementById("next-btn");
const retryBtn=document.getElementById("retry-btn");
const resultImg=document.getElementById("result-img");
const endScreen=document.getElementById("end-screen");
const bgMusic=document.getElementById("bg-music");
const wrongSound=document.getElementById("wrong-sound");

function showQuestion(index){
    const q=questions[index];
    questionText.textContent=q.text;
    option1.textContent=q.options[0].text;
    option2.textContent=q.options[1].text;
    questionContainer.style.display="block";
    resultImg.style.display="none";
    nextBtn.style.display="none";
    retryBtn.style.display="none";
    option1.style.display="block";
    option2.style.display="block";
    // SorularÄ±n arka plan
    screenImg.src="ilk.png";
    // DoÄŸru2.png ise soru saÄŸa
    if(q.options.some(o=>o.correct && o.resultImg==="doÄŸru2.png")){
        questionContainer.classList.add("right");
    } else {
        questionContainer.classList.remove("right");
    }
}

function handleAnswer(option){
    const q=questions[current];
    const selected=q.options[option];
    resultImg.src=selected.resultImg;
    resultImg.style.display="block";
    if(selected.correct){
        nextBtn.style.display="block";
        option1.style.display="none";
        option2.style.display="none";
    } else {
        retryBtn.style.display="block";
        option1.style.display="none";
        option2.style.display="none";
        wrongSound.currentTime=0;
        wrongSound.play();
        wrongSelected=true;
    }
}

nextBtn.addEventListener("click", ()=>{
    current++;
    if(current<questions.length){
        showQuestion(current);
    } else {
        // Oyun bitti
        questionContainer.style.display="none";
        resultImg.style.display="none";
        let message=wrongSelected ? "KÃ–TÃœ SON ðŸ˜¢" : "Ä°YÄ° SON ðŸŽ‰";
        endScreen.textContent=message;
        endScreen.style.display="block";
        startBtn.style.display="block";
        screenImg.style.display="none";
        current=0;
        wrongSelected=false;
    }
});

retryBtn.addEventListener("click", ()=>{
    resultImg.style.display="none";
    retryBtn.style.display="none";
    option1.style.display="block";
    option2.style.display="block";
});

option1.addEventListener("click", ()=>{ handleAnswer(0); });
option2.addEventListener("click", ()=>{ handleAnswer(1); });

startBtn.addEventListener("click", ()=>{
    startBtn.style.display="none";
    screenImg.style.display="none";
    endScreen.style.display="none";
    bgMusic.pause(); // sadece baÅŸlangÄ±Ã§ta Ã§aldÄ±, ÅŸimdi duruyor
    showQuestion(current);
});
</script>

</body>
</html>
